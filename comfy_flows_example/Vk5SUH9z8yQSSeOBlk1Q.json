{
  "id": "9e638cce-6905-4251-892c-db05df2118ad",
  "revision": 0,
  "last_node_id": 41,
  "last_link_id": 67,
  "nodes": [
    {
      "id": 28,
      "type": "DownloadAndLoadFlorence2Model",
      "pos": [
        50,
        1220
      ],
      "size": [
        315,
        106
      ],
      "flags": {},
      "order": 0,
      "mode": 0,
      "inputs": [
        {
          "name": "lora",
          "shape": 7,
          "type": "PEFTLORA",
          "link": null
        }
      ],
      "outputs": [
        {
          "name": "florence2_model",
          "type": "FL2MODEL",
          "links": [
            42
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfyui-florence2",
        "ver": "1.0.3",
        "Node name for S&R": "DownloadAndLoadFlorence2Model",
        "widget_ue_connectable": {}
      },
      "widgets_values": [
        "gokaygokay/Florence-2-Flux-Large",
        "fp16",
        "sdpa"
      ]
    },
    {
      "id": 26,
      "type": "Florence2Run",
      "pos": [
        430,
        1200
      ],
      "size": [
        400,
        364
      ],
      "flags": {},
      "order": 5,
      "mode": 0,
      "inputs": [
        {
          "name": "image",
          "type": "IMAGE",
          "link": 58
        },
        {
          "name": "florence2_model",
          "type": "FL2MODEL",
          "link": 42
        }
      ],
      "outputs": [
        {
          "name": "image",
          "type": "IMAGE",
          "links": null
        },
        {
          "name": "mask",
          "type": "MASK",
          "links": null
        },
        {
          "name": "caption",
          "type": "STRING",
          "slot_index": 2,
          "links": [
            53
          ]
        },
        {
          "name": "data",
          "type": "JSON",
          "links": null
        }
      ],
      "properties": {
        "cnr_id": "comfyui-florence2",
        "ver": "1.0.3",
        "Node name for S&R": "Florence2Run",
        "widget_ue_connectable": {}
      },
      "widgets_values": [
        "",
        "more_detailed_caption",
        true,
        false,
        300,
        3,
        true,
        "",
        915935201521618,
        "randomize"
      ]
    },
    {
      "id": 41,
      "type": "PrimitiveNode",
      "pos": [
        1.2535414695739746,
        594.1410522460938
      ],
      "size": [
        210,
        60
      ],
      "flags": {},
      "order": 1,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "STRING",
          "type": "STRING",
          "widget": {
            "name": "path"
          },
          "links": [
            66,
            67
          ]
        }
      ],
      "title": "path",
      "properties": {
        "Run widget replace on values": false,
        "widget_ue_connectable": {}
      },
      "widgets_values": [
        "C:\\Users\\heelt\\Documents\\ComfyUI\\datasets\\cas\\birme-1024x1024"
      ]
    },
    {
      "id": 37,
      "type": "Text Concatenate",
      "pos": [
        1459.718505859375,
        1009.4876708984375
      ],
      "size": [
        270,
        142
      ],
      "flags": {},
      "order": 8,
      "mode": 0,
      "inputs": [
        {
          "name": "text_a",
          "shape": 7,
          "type": "STRING",
          "link": 54
        },
        {
          "name": "text_b",
          "shape": 7,
          "type": "STRING",
          "link": 53
        },
        {
          "name": "text_c",
          "shape": 7,
          "type": "STRING",
          "link": null
        },
        {
          "name": "text_d",
          "shape": 7,
          "type": "STRING",
          "link": null
        }
      ],
      "outputs": [
        {
          "name": "STRING",
          "type": "STRING",
          "links": [
            55
          ]
        }
      ],
      "properties": {
        "cnr_id": "was-ns",
        "ver": "f86447721c18758d7b3b6ae5769f52344a3d764a",
        "Node name for S&R": "Text Concatenate",
        "widget_ue_connectable": {}
      },
      "widgets_values": [
        ", ",
        "true"
      ]
    },
    {
      "id": 38,
      "type": "Text Multiline",
      "pos": [
        796.794677734375,
        993.5228271484375
      ],
      "size": [
        310.79998779296875,
        88
      ],
      "flags": {},
      "order": 2,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "STRING",
          "type": "STRING",
          "slot_index": 0,
          "links": [
            54
          ]
        }
      ],
      "title": "Trigger (prepend to prompt,add comma)",
      "properties": {
        "cnr_id": "was-ns",
        "ver": "f86447721c18758d7b3b6ae5769f52344a3d764a",
        "Node name for S&R": "Text Multiline",
        "widget_ue_connectable": {}
      },
      "widgets_values": [
        "cas-sum"
      ],
      "color": "#232",
      "bgcolor": "#353"
    },
    {
      "id": 40,
      "type": "Text Find and Replace",
      "pos": [
        1102.408447265625,
        793.5813598632812
      ],
      "size": [
        273.767578125,
        142
      ],
      "flags": {},
      "order": 7,
      "mode": 0,
      "inputs": [
        {
          "name": "text",
          "type": "STRING",
          "link": 63
        }
      ],
      "outputs": [
        {
          "name": "result_text",
          "type": "STRING",
          "links": [
            65
          ]
        },
        {
          "name": "replacement_count_number",
          "type": "NUMBER",
          "links": null
        },
        {
          "name": "replacement_count_float",
          "type": "FLOAT",
          "links": null
        },
        {
          "name": "replacement_count_int",
          "type": "INT",
          "links": null
        }
      ],
      "properties": {
        "cnr_id": "was-ns",
        "ver": "f86447721c18758d7b3b6ae5769f52344a3d764a",
        "Node name for S&R": "Text Find and Replace",
        "widget_ue_connectable": {}
      },
      "widgets_values": [
        ".jpg",
        ""
      ]
    },
    {
      "id": 34,
      "type": "PreviewImage",
      "pos": [
        1585.8905029296875,
        545.3645629882812
      ],
      "size": [
        210,
        293.8947448730469
      ],
      "flags": {},
      "order": 6,
      "mode": 0,
      "inputs": [
        {
          "name": "images",
          "type": "IMAGE",
          "link": 59
        }
      ],
      "outputs": [],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.41",
        "Node name for S&R": "PreviewImage",
        "widget_ue_connectable": {}
      },
      "widgets_values": []
    },
    {
      "id": 29,
      "type": "ShowText|pysssss",
      "pos": [
        1863.5318603515625,
        547.4410400390625
      ],
      "size": [
        295.9107971191406,
        313.4365234375
      ],
      "flags": {},
      "order": 9,
      "mode": 0,
      "inputs": [
        {
          "name": "text",
          "type": "STRING",
          "link": 55
        }
      ],
      "outputs": [
        {
          "name": "STRING",
          "shape": 6,
          "type": "STRING",
          "slot_index": 0,
          "links": [
            62
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfyui-custom-scripts",
        "ver": "1.2.5",
        "Node name for S&R": "ShowText|pysssss",
        "widget_ue_connectable": {}
      },
      "widgets_values": [
        "cas-sum, The image shows a young woman standing on a concrete surface with her back to the camera. She is wearing a white crop top and light blue denim shorts with frayed edges. Her blonde hair is styled in loose waves and she is wearing black sunglasses. Her left arm is raised above her head and her right hand is resting on her head. The background shows a cityscape with tall buildings and palm trees. The sky is dark and the overall mood of the image is mysterious and edgy."
      ],
      "shape": 2
    },
    {
      "id": 35,
      "type": "Save Text File",
      "pos": [
        2246.634033203125,
        549.28759765625
      ],
      "size": [
        306.1015625,
        202
      ],
      "flags": {},
      "order": 10,
      "mode": 0,
      "inputs": [
        {
          "name": "text",
          "type": "STRING",
          "link": 62
        },
        {
          "name": "path",
          "type": "STRING",
          "widget": {
            "name": "path"
          },
          "link": 66
        },
        {
          "name": "filename_prefix",
          "type": "STRING",
          "widget": {
            "name": "filename_prefix"
          },
          "link": 65
        }
      ],
      "outputs": [],
      "properties": {
        "cnr_id": "was-ns",
        "ver": "f86447721c18758d7b3b6ae5769f52344a3d764a",
        "Node name for S&R": "Save Text File",
        "widget_ue_connectable": {}
      },
      "widgets_values": [
        "C:\\Users\\heelt\\Documents\\ComfyUI\\datasets\\cas\\birme-1024x1024",
        "cas",
        "",
        0,
        ".txt",
        "utf-8",
        ""
      ]
    },
    {
      "id": 33,
      "type": "Load Image Batch",
      "pos": [
        9.1881103515625,
        824.9713745117188
      ],
      "size": [
        293.416015625,
        270
      ],
      "flags": {},
      "order": 4,
      "mode": 0,
      "inputs": [
        {
          "name": "path",
          "type": "STRING",
          "widget": {
            "name": "path"
          },
          "link": 67
        }
      ],
      "outputs": [
        {
          "name": "image",
          "type": "IMAGE",
          "links": [
            58,
            59
          ]
        },
        {
          "name": "filename_text",
          "type": "STRING",
          "links": [
            63
          ]
        }
      ],
      "properties": {
        "cnr_id": "was-ns",
        "ver": "f86447721c18758d7b3b6ae5769f52344a3d764a",
        "Node name for S&R": "Load Image Batch",
        "widget_ue_connectable": {}
      },
      "widgets_values": [
        "incremental_image",
        62,
        "increment",
        0,
        "Batch 001",
        "C:\\Users\\heelt\\Documents\\ComfyUI\\datasets\\cas\\birme-1024x1024",
        "*",
        "false",
        "true"
      ]
    },
    {
      "id": 27,
      "type": "LoadImage",
      "pos": [
        1151.996337890625,
        1221.8486328125
      ],
      "size": [
        290.69122314453125,
        314.00006103515625
      ],
      "flags": {},
      "order": 3,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": []
        },
        {
          "name": "MASK",
          "type": "MASK",
          "links": null
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.41",
        "Node name for S&R": "LoadImage",
        "widget_ue_connectable": {}
      },
      "widgets_values": [
        "cas.summerr_1632092906_2666511023948153842_48534270407.jpg",
        "image"
      ]
    }
  ],
  "links": [
    [
      42,
      28,
      0,
      26,
      1,
      "FL2MODEL"
    ],
    [
      53,
      26,
      2,
      37,
      1,
      "STRING"
    ],
    [
      54,
      38,
      0,
      37,
      0,
      "STRING"
    ],
    [
      55,
      37,
      0,
      29,
      0,
      "STRING"
    ],
    [
      58,
      33,
      0,
      26,
      0,
      "IMAGE"
    ],
    [
      59,
      33,
      0,
      34,
      0,
      "IMAGE"
    ],
    [
      62,
      29,
      0,
      35,
      0,
      "STRING"
    ],
    [
      63,
      33,
      1,
      40,
      0,
      "STRING"
    ],
    [
      65,
      40,
      0,
      35,
      2,
      "STRING"
    ],
    [
      66,
      41,
      0,
      35,
      1,
      "STRING"
    ],
    [
      67,
      41,
      0,
      33,
      0,
      "STRING"
    ]
  ],
  "groups": [
    {
      "id": 1,
      "title": "Reference Image",
      "bounding": [
        1603,
        470,
        193,
        80
      ],
      "color": "#b58b2a",
      "font_size": 24,
      "flags": {}
    },
    {
      "id": 2,
      "title": "Automatic Caption",
      "bounding": [
        1898,
        471,
        203,
        80
      ],
      "color": "#b58b2a",
      "font_size": 24,
      "flags": {}
    },
    {
      "id": 3,
      "title": "Generated Image",
      "bounding": [
        2247.05322265625,
        469.4385986328125,
        199,
        80
      ],
      "color": "#b58b2a",
      "font_size": 24,
      "flags": {}
    }
  ],
  "config": {},
  "extra": {
    "ds": {
      "scale": 0.876922695000005,
      "offset": [
        509.330880884676,
        -275.07082840283516
      ]
    },
    "ue_links": [],
    "links_added_by_ue": [],
    "frontendVersion": "1.22.2",
    "VHS_latentpreview": false,
    "VHS_latentpreviewrate": 0,
    "VHS_MetadataImage": true,
    "VHS_KeepIntermediate": true
  },
  "version": 0.4
}