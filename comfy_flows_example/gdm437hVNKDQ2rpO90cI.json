{
  "id": "c1459c97-a394-4f38-9d2a-9467fb988e28",
  "revision": 0,
  "last_node_id": 112,
  "last_link_id": 2834,
  "nodes": [
    {
      "id": 91,
      "type": "GetNode",
      "pos": [
        -180,
        -240
      ],
      "size": [
        210,
        58
      ],
      "flags": {},
      "order": 0,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "STRING",
          "type": "STRING",
          "links": [
            616
          ]
        }
      ],
      "title": "PromptNegative",
      "properties": {
        "ue_properties": {
          "widget_ue_connectable": {},
          "version": "7.1",
          "input_ue_unconnectable": {}
        }
      },
      "widgets_values": [
        "PromptNegative"
      ]
    },
    {
      "id": 92,
      "type": "GetNode",
      "pos": [
        -180,
        -400
      ],
      "size": [
        210,
        58
      ],
      "flags": {},
      "order": 1,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "STRING",
          "type": "STRING",
          "links": [
            617
          ]
        }
      ],
      "title": "PromptPositive",
      "properties": {
        "ue_properties": {
          "widget_ue_connectable": {},
          "version": "7.1",
          "input_ue_unconnectable": {}
        }
      },
      "widgets_values": [
        "PromptPositive"
      ]
    },
    {
      "id": 41,
      "type": "Note",
      "pos": [
        1420,
        1470
      ],
      "size": [
        390,
        150
      ],
      "flags": {},
      "order": 2,
      "mode": 0,
      "inputs": [],
      "outputs": [],
      "title": "Note - VAE Decoder",
      "properties": {
        "text": "",
        "ue_properties": {
          "widget_ue_connectable": {},
          "version": "7.0.1"
        }
      },
      "widgets_values": [
        "This node will take the latent data from the KSampler and, using the VAE, it will decode it into visible data\n\nVAE = Latent --> Visible\n\nThis can then be sent to the Save Image node to be saved as a PNG."
      ],
      "color": "#332922",
      "bgcolor": "#593930"
    },
    {
      "id": 43,
      "type": "Note",
      "pos": [
        1390,
        1700
      ],
      "size": [
        382.79046630859375,
        111.91925048828125
      ],
      "flags": {},
      "order": 3,
      "mode": 0,
      "inputs": [],
      "outputs": [],
      "title": "Note - CLIP Encode (REFINER)",
      "properties": {
        "text": "",
        "ue_properties": {
          "widget_ue_connectable": {},
          "version": "7.0.1"
        }
      },
      "widgets_values": [
        "These nodes receive the text from the prompt and use the optimal CLIP settings for the specified checkpoint model (in this case: SDXL Refiner)"
      ],
      "color": "#432",
      "bgcolor": "#653"
    },
    {
      "id": 37,
      "type": "Note",
      "pos": [
        910,
        820
      ],
      "size": [
        320.29852294921875,
        140.3228302001953
      ],
      "flags": {},
      "order": 4,
      "mode": 0,
      "inputs": [],
      "outputs": [],
      "title": "Note - Load Checkpoint REFINER",
      "properties": {
        "text": "",
        "ue_properties": {
          "widget_ue_connectable": {},
          "version": "7.0.1"
        }
      },
      "widgets_values": [
        "This is a checkpoint model loader. \n - This is set up automatically with the optimal settings for whatever SD model version you choose to use.\n - In this example, it is for the Refiner SDXL model\n\nNOTE: When loading in another person's workflow, be sure to manually choose your own *local* model. This also applies to LoRas and all their deviations."
      ],
      "color": "#432",
      "bgcolor": "#653"
    },
    {
      "id": 99,
      "type": "LoadImage",
      "pos": [
        -890,
        -800
      ],
      "size": [
        274.080078125,
        314
      ],
      "flags": {},
      "order": 5,
      "mode": 4,
      "inputs": [],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": []
        },
        {
          "name": "MASK",
          "type": "MASK",
          "links": null
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.57",
        "Node name for S&R": "LoadImage",
        "ue_properties": {
          "widget_ue_connectable": {
            "image": true,
            "upload": true
          },
          "version": "7.1",
          "input_ue_unconnectable": {}
        }
      },
      "widgets_values": [
        "0078v2yigy1frfzqr6jp3j323p35ju13 (1).jpg",
        "image"
      ]
    },
    {
      "id": 50,
      "type": "PrimitiveNode",
      "pos": [
        1860,
        -1230
      ],
      "size": [
        340,
        80
      ],
      "flags": {},
      "order": 6,
      "mode": 4,
      "inputs": [],
      "outputs": [
        {
          "name": "connect to widget input",
          "type": "*",
          "slot_index": 0,
          "links": []
        }
      ],
      "title": "Negative Prompt (Text)",
      "properties": {
        "Run widget replace on values": false,
        "ue_properties": {
          "widget_ue_connectable": {},
          "version": "7.0.1"
        }
      },
      "color": "#322",
      "bgcolor": "#533"
    },
    {
      "id": 40,
      "type": "Note",
      "pos": [
        3850,
        -120
      ],
      "size": [
        780,
        440
      ],
      "flags": {},
      "order": 7,
      "mode": 0,
      "inputs": [],
      "outputs": [],
      "title": "Note - KSampler  ADVANCED General Information",
      "properties": {
        "text": "",
        "ue_properties": {
          "widget_ue_connectable": {},
          "version": "7.0.1"
        }
      },
      "widgets_values": [
        "Here are the settings that SHOULD stay in place if you want this workflow to work correctly:\n - add_noise: enable = This adds random noise into the picture so the model can denoise it\n\n - return_with_leftover_noise: enable = This sends the latent image data and all it's leftover noise to the next KSampler node.\n\nThe settings to pay attention to:\n - control_after_generate = generates a new random seed after each workflow job completed.\n - steps = This is the amount of iterations you would like to run the positive and negative CLIP prompts through. Each Step will add (positive) or remove (negative) pixels based on what stable diffusion \"thinks\" should be there according to the model's training\n - cfg = This is how much you want SDXL to adhere to the prompt. Lower CFG gives you more creative but often blurrier results. Higher CFG (recommended max 10) gives you stricter results according to the CLIP prompt. If the CFG value is too high, it can also result in \"burn-in\" where the edges of the picture become even stronger, often highlighting details in unnatural ways.\n - sampler_name = This is the sampler type, and unfortunately different samplers and schedulers have better results with fewer steps, while others have better success with higher steps. This will require experimentation on your part!\n - scheduler = The algorithm/method used to choose the timesteps to denoise the picture.\n - start_at_step = This is the step number the KSampler will start out it's process of de-noising the picture or \"removing the random noise to reveal the picture within\". The first KSampler usually starts with Step 0. Starting at step 0 is the same as setting denoise to 1.0 in the regular Sampler node.\n - end_at_step = This is the step number the KSampler will stop it's process of de-noising the picture. If there is any remaining leftover noise and return_with_leftover_noise is enabled, then it will pass on the left over noise to the next KSampler (assuming there is another one)."
      ],
      "color": "#432",
      "bgcolor": "#653"
    },
    {
      "id": 81,
      "type": "SetNode",
      "pos": [
        1400,
        -1230
      ],
      "size": [
        300,
        60
      ],
      "flags": {},
      "order": 46,
      "mode": 0,
      "inputs": [
        {
          "name": "STRING",
          "type": "STRING",
          "link": 244
        }
      ],
      "outputs": [
        {
          "name": "*",
          "type": "*",
          "links": null
        }
      ],
      "title": "PromptPositive",
      "properties": {
        "previousName": "PromptPositive",
        "ue_properties": {
          "widget_ue_connectable": {},
          "version": "7.1",
          "input_ue_unconnectable": {}
        }
      },
      "widgets_values": [
        "PromptPositive"
      ]
    },
    {
      "id": 80,
      "type": "AnyLinePreprocessor",
      "pos": [
        600,
        -50
      ],
      "size": [
        162.0650390625,
        26
      ],
      "flags": {},
      "order": 33,
      "mode": 4,
      "inputs": [
        {
          "name": "image",
          "type": "IMAGE",
          "link": 2347
        }
      ],
      "outputs": [
        {
          "name": "image",
          "type": "IMAGE",
          "links": []
        }
      ],
      "properties": {
        "cnr_id": "comfyui-anyline",
        "ver": "40d7b290fe829d50e4e12e7f34498c2d30913b53",
        "Node name for S&R": "AnyLinePreprocessor",
        "ue_properties": {
          "widget_ue_connectable": {},
          "version": "7.1",
          "input_ue_unconnectable": {}
        }
      },
      "widgets_values": []
    },
    {
      "id": 75,
      "type": "ZaneImageDirectoryLoader",
      "pos": [
        -550,
        -1070
      ],
      "size": [
        281.9888610839844,
        126
      ],
      "flags": {},
      "order": 8,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            1024
          ]
        },
        {
          "name": "MASK",
          "type": "MASK",
          "links": null
        }
      ],
      "properties": {
        "aux_id": "hzane/ComfyUI-OpenAI",
        "ver": "7cbbe3254b3be691cdb366961a1c18ce1e1d9e7d",
        "Node name for S&R": "ZaneImageDirectoryLoader",
        "ue_properties": {
          "widget_ue_connectable": {
            "directory": true,
            "seed": true
          },
          "version": "7.1",
          "input_ue_unconnectable": {}
        }
      },
      "widgets_values": [
        "/data.d/f2d-dataset/full-sensitive",
        50063748946284,
        "randomize"
      ]
    },
    {
      "id": 89,
      "type": "GetNode",
      "pos": [
        1520,
        -500
      ],
      "size": [
        210,
        60
      ],
      "flags": {},
      "order": 9,
      "mode": 4,
      "inputs": [],
      "outputs": [
        {
          "name": "STRING",
          "type": "STRING",
          "links": [
            614
          ]
        }
      ],
      "title": "PromptNegative",
      "properties": {
        "ue_properties": {
          "widget_ue_connectable": {},
          "version": "7.1",
          "input_ue_unconnectable": {}
        }
      },
      "widgets_values": [
        "PromptNegative"
      ]
    },
    {
      "id": 84,
      "type": "ControlNetLoader",
      "pos": [
        970,
        20
      ],
      "size": [
        270,
        58
      ],
      "flags": {},
      "order": 10,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "CONTROL_NET",
          "type": "CONTROL_NET",
          "links": [
            475
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.57",
        "Node name for S&R": "ControlNetLoader",
        "ue_properties": {
          "widget_ue_connectable": {
            "control_net_name": true
          },
          "version": "7.1",
          "input_ue_unconnectable": {}
        }
      },
      "widgets_values": [
        "sdxl/diffusers_xl_depth_mid.safetensors"
      ]
    },
    {
      "id": 78,
      "type": "DepthAnythingV2Preprocessor",
      "pos": [
        980,
        160
      ],
      "size": [
        279.6646423339844,
        82
      ],
      "flags": {},
      "order": 32,
      "mode": 0,
      "inputs": [
        {
          "name": "image",
          "type": "IMAGE",
          "link": 2336
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            2330
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfyui_controlnet_aux",
        "ver": "59b027e088c1c8facf7258f6e392d16d204b4d27",
        "Node name for S&R": "DepthAnythingV2Preprocessor",
        "ue_properties": {
          "widget_ue_connectable": {
            "ckpt_name": true,
            "resolution": true
          },
          "version": "7.1",
          "input_ue_unconnectable": {}
        }
      },
      "widgets_values": [
        "depth_anything_v2_vitb.pth",
        1024
      ]
    },
    {
      "id": 65,
      "type": "ControlNetApplyAdvanced",
      "pos": [
        960,
        -220
      ],
      "size": [
        270,
        186
      ],
      "flags": {},
      "order": 43,
      "mode": 0,
      "inputs": [
        {
          "name": "positive",
          "type": "CONDITIONING",
          "link": 75
        },
        {
          "name": "negative",
          "type": "CONDITIONING",
          "link": 76
        },
        {
          "name": "control_net",
          "type": "CONTROL_NET",
          "link": 268
        },
        {
          "name": "image",
          "type": "IMAGE",
          "link": 467
        },
        {
          "name": "vae",
          "shape": 7,
          "type": "VAE",
          "link": null
        }
      ],
      "outputs": [
        {
          "name": "positive",
          "type": "CONDITIONING",
          "links": [
            486
          ]
        },
        {
          "name": "negative",
          "type": "CONDITIONING",
          "links": [
            487
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.57",
        "Node name for S&R": "ControlNetApplyAdvanced",
        "ue_properties": {
          "widget_ue_connectable": {
            "strength": true,
            "start_percent": true,
            "end_percent": true
          },
          "version": "7.1",
          "input_ue_unconnectable": {}
        }
      },
      "widgets_values": [
        1,
        0,
        0.313
      ]
    },
    {
      "id": 7,
      "type": "CLIPTextEncode",
      "pos": [
        150,
        -200
      ],
      "size": [
        397.553466796875,
        142.57814025878906
      ],
      "flags": {},
      "order": 28,
      "mode": 0,
      "inputs": [
        {
          "name": "clip",
          "type": "CLIP",
          "link": null
        },
        {
          "name": "text",
          "type": "STRING",
          "widget": {
            "name": "text"
          },
          "link": 616
        }
      ],
      "outputs": [
        {
          "name": "CONDITIONING",
          "type": "CONDITIONING",
          "slot_index": 0,
          "links": [
            76
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.33",
        "Node name for S&R": "CLIPTextEncode",
        "ue_properties": {
          "widget_ue_connectable": {
            "text": true
          },
          "version": "7.0.1"
        }
      },
      "widgets_values": [
        "hibi, super-deformed, SD, big head, huge eyes, baby face, childish, cute, kawaii, moe, cartoony, deformed anatomy, blur, lowres, bad anatomy, extra limbs, disfigured, poorly drawn, deformed, low quality, monochrome, text, watermark, signature, oversaturated, underexposed, overexposed, noise, artifacts"
      ],
      "color": "#322",
      "bgcolor": "#533"
    },
    {
      "id": 6,
      "type": "CLIPTextEncode",
      "pos": [
        470,
        -350
      ],
      "size": [
        405.0923156738281,
        124.19273376464844
      ],
      "flags": {},
      "order": 29,
      "mode": 0,
      "inputs": [
        {
          "name": "clip",
          "type": "CLIP",
          "link": null
        },
        {
          "name": "text",
          "type": "STRING",
          "widget": {
            "name": "text"
          },
          "link": 617
        }
      ],
      "outputs": [
        {
          "name": "CONDITIONING",
          "type": "CONDITIONING",
          "slot_index": 0,
          "links": [
            75
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.33",
        "Node name for S&R": "CLIPTextEncode",
        "ue_properties": {
          "widget_ue_connectable": {
            "text": true
          },
          "version": "7.0.1"
        }
      },
      "widgets_values": [
        "evening sunset scenery blue sky nature, glass bottle with a galaxy in it"
      ],
      "color": "#232",
      "bgcolor": "#353"
    },
    {
      "id": 48,
      "type": "Note",
      "pos": [
        -680,
        -180
      ],
      "size": [
        390,
        100
      ],
      "flags": {},
      "order": 11,
      "mode": 0,
      "inputs": [],
      "outputs": [],
      "properties": {
        "text": "",
        "ue_properties": {
          "widget_ue_connectable": {},
          "version": "7.0.1"
        }
      },
      "widgets_values": [
        "These can be used to control the total sampling steps and the step at which the sampling switches to the refiner."
      ],
      "color": "#432",
      "bgcolor": "#653"
    },
    {
      "id": 52,
      "type": "Note",
      "pos": [
        -710,
        -370
      ],
      "size": [
        410,
        120
      ],
      "flags": {},
      "order": 12,
      "mode": 0,
      "inputs": [],
      "outputs": [],
      "title": "Note - Text Prompts",
      "properties": {
        "text": "",
        "ue_properties": {
          "widget_ue_connectable": {},
          "version": "7.0.1"
        }
      },
      "widgets_values": [
        "These nodes are where you include the text for:\n - what you want in the picture (Positive Prompt, Green)\n - or what you don't want in the picture (Negative Prompt, Red)\n\nThis node type is called a \"PrimitiveNode\" if you are searching for the node type."
      ],
      "color": "#323",
      "bgcolor": "#535"
    },
    {
      "id": 90,
      "type": "GetNode",
      "pos": [
        1530,
        -630
      ],
      "size": [
        210,
        58
      ],
      "flags": {},
      "order": 13,
      "mode": 4,
      "inputs": [],
      "outputs": [
        {
          "name": "STRING",
          "type": "STRING",
          "links": [
            615
          ]
        }
      ],
      "title": "PromptPositive",
      "properties": {
        "ue_properties": {
          "widget_ue_connectable": {},
          "version": "7.1",
          "input_ue_unconnectable": {}
        }
      },
      "widgets_values": [
        "PromptPositive"
      ]
    },
    {
      "id": 15,
      "type": "CLIPTextEncode",
      "pos": [
        1880,
        -630
      ],
      "size": [
        391.591552734375,
        148.68138122558594
      ],
      "flags": {},
      "order": 38,
      "mode": 4,
      "inputs": [
        {
          "name": "clip",
          "type": "CLIP",
          "link": 652
        },
        {
          "name": "text",
          "type": "STRING",
          "widget": {
            "name": "text"
          },
          "link": 615
        }
      ],
      "outputs": [
        {
          "name": "CONDITIONING",
          "type": "CONDITIONING",
          "slot_index": 0,
          "links": [
            650
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.33",
        "Node name for S&R": "CLIPTextEncode",
        "ue_properties": {
          "widget_ue_connectable": {
            "text": true
          },
          "version": "7.0.1"
        }
      },
      "widgets_values": [
        "evening sunset scenery blue sky nature, glass bottle with a galaxy in it"
      ],
      "color": "#232",
      "bgcolor": "#353"
    },
    {
      "id": 16,
      "type": "CLIPTextEncode",
      "pos": [
        1890,
        -420
      ],
      "size": [
        388.5469970703125,
        121.34178161621094
      ],
      "flags": {},
      "order": 37,
      "mode": 4,
      "inputs": [
        {
          "name": "clip",
          "type": "CLIP",
          "link": 651
        },
        {
          "name": "text",
          "type": "STRING",
          "widget": {
            "name": "text"
          },
          "link": 614
        }
      ],
      "outputs": [
        {
          "name": "CONDITIONING",
          "type": "CONDITIONING",
          "slot_index": 0,
          "links": [
            649
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.33",
        "Node name for S&R": "CLIPTextEncode",
        "ue_properties": {
          "widget_ue_connectable": {
            "text": true
          },
          "version": "7.0.1"
        }
      },
      "widgets_values": [
        "hibi, super-deformed, SD, big head, huge eyes, baby face, childish, cute, kawaii, moe, cartoony, deformed anatomy, blur, lowres, bad anatomy, extra limbs, disfigured, poorly drawn, deformed, low quality, monochrome, text, watermark, signature, oversaturated, underexposed, overexposed, noise, artifacts"
      ],
      "color": "#322",
      "bgcolor": "#533"
    },
    {
      "id": 94,
      "type": "SetNode",
      "pos": [
        3810,
        -1000
      ],
      "size": [
        210,
        60
      ],
      "flags": {},
      "order": 53,
      "mode": 0,
      "inputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "link": 2458
        }
      ],
      "outputs": [
        {
          "name": "*",
          "type": "*",
          "links": null
        }
      ],
      "title": "ImageResult",
      "properties": {
        "previousName": "ImageResult",
        "ue_properties": {
          "widget_ue_connectable": {},
          "version": "7.1",
          "input_ue_unconnectable": {}
        }
      },
      "widgets_values": [
        "ImageResult"
      ],
      "color": "#2a363b",
      "bgcolor": "#3f5159"
    },
    {
      "id": 83,
      "type": "ControlNetApplyAdvanced",
      "pos": [
        1350,
        -200
      ],
      "size": [
        270,
        186
      ],
      "flags": {},
      "order": 47,
      "mode": 0,
      "inputs": [
        {
          "name": "positive",
          "type": "CONDITIONING",
          "link": 486
        },
        {
          "name": "negative",
          "type": "CONDITIONING",
          "link": 487
        },
        {
          "name": "control_net",
          "type": "CONTROL_NET",
          "link": 475
        },
        {
          "name": "image",
          "type": "IMAGE",
          "link": 2330
        },
        {
          "name": "vae",
          "shape": 7,
          "type": "VAE",
          "link": null
        }
      ],
      "outputs": [
        {
          "name": "positive",
          "type": "CONDITIONING",
          "links": [
            488,
            2464
          ]
        },
        {
          "name": "negative",
          "type": "CONDITIONING",
          "links": [
            489,
            2465
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.57",
        "Node name for S&R": "ControlNetApplyAdvanced",
        "ue_properties": {
          "widget_ue_connectable": {
            "strength": true,
            "start_percent": true,
            "end_percent": true
          },
          "version": "7.1",
          "input_ue_unconnectable": {}
        }
      },
      "widgets_values": [
        1,
        0,
        0.304
      ]
    },
    {
      "id": 110,
      "type": "DifferentialDiffusion",
      "pos": [
        2910,
        -790
      ],
      "size": [
        270,
        58
      ],
      "flags": {},
      "order": 14,
      "mode": 0,
      "inputs": [
        {
          "name": "model",
          "type": "MODEL",
          "link": null
        }
      ],
      "outputs": [
        {
          "name": "MODEL",
          "type": "MODEL",
          "links": [
            2474
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.62",
        "Node name for S&R": "DifferentialDiffusion"
      },
      "widgets_values": [
        1
      ]
    },
    {
      "id": 73,
      "type": "DWPreprocessor",
      "pos": [
        440,
        50
      ],
      "size": [
        294.72265625,
        222
      ],
      "flags": {},
      "order": 31,
      "mode": 0,
      "inputs": [
        {
          "name": "image",
          "type": "IMAGE",
          "link": 1014
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            467
          ]
        },
        {
          "name": "POSE_KEYPOINT",
          "type": "POSE_KEYPOINT",
          "links": null
        }
      ],
      "properties": {
        "cnr_id": "comfyui_controlnet_aux",
        "ver": "59b027e088c1c8facf7258f6e392d16d204b4d27",
        "Node name for S&R": "DWPreprocessor",
        "ue_properties": {
          "widget_ue_connectable": {
            "detect_hand": true,
            "detect_body": true,
            "detect_face": true,
            "resolution": true,
            "bbox_detector": true,
            "pose_estimator": true,
            "scale_stick_for_xinsr_cn": true
          },
          "version": "7.1",
          "input_ue_unconnectable": {}
        }
      },
      "widgets_values": [
        "enable",
        "enable",
        "enable",
        1024,
        "yolox_l.onnx",
        "dw-ll_ucoco_384_bs5.torchscript.pt",
        "disable"
      ]
    },
    {
      "id": 98,
      "type": "GetNode",
      "pos": [
        120,
        10
      ],
      "size": [
        210,
        60
      ],
      "flags": {},
      "order": 15,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            1014,
            2336,
            2347
          ]
        }
      ],
      "title": "ImageReference",
      "properties": {
        "ue_properties": {
          "widget_ue_connectable": {},
          "version": "7.1",
          "input_ue_unconnectable": {}
        }
      },
      "widgets_values": [
        "ImageReference"
      ],
      "color": "#2a363b",
      "bgcolor": "#3f5159"
    },
    {
      "id": 66,
      "type": "ControlNetLoader",
      "pos": [
        600,
        -160
      ],
      "size": [
        270,
        58
      ],
      "flags": {},
      "order": 16,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "CONTROL_NET",
          "type": "CONTROL_NET",
          "links": [
            268
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.57",
        "Node name for S&R": "ControlNetLoader",
        "ue_properties": {
          "widget_ue_connectable": {
            "control_net_name": true
          },
          "version": "7.1",
          "input_ue_unconnectable": {}
        }
      },
      "widgets_values": [
        "sdxl/xinsir-cn-openpose-sdxl-1.0.safetensors"
      ]
    },
    {
      "id": 97,
      "type": "SetNode",
      "pos": [
        -120,
        -830
      ],
      "size": [
        210,
        60
      ],
      "flags": {},
      "order": 40,
      "mode": 0,
      "inputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "link": 1004
        }
      ],
      "outputs": [
        {
          "name": "*",
          "type": "*",
          "links": null
        }
      ],
      "title": "ImageReference",
      "properties": {
        "previousName": "ImageReference",
        "ue_properties": {
          "widget_ue_connectable": {},
          "version": "7.1",
          "input_ue_unconnectable": {}
        }
      },
      "widgets_values": [
        "ImageReference"
      ],
      "color": "#2a363b",
      "bgcolor": "#3f5159"
    },
    {
      "id": 70,
      "type": "PrimitiveInt",
      "pos": [
        1650,
        80
      ],
      "size": [
        270,
        82
      ],
      "flags": {},
      "order": 17,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "INT",
          "type": "INT",
          "links": [
            115
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.57",
        "Node name for S&R": "PrimitiveInt",
        "ue_properties": {
          "widget_ue_connectable": {
            "value": true
          },
          "version": "7.1",
          "input_ue_unconnectable": {}
        }
      },
      "widgets_values": [
        27,
        "fixed"
      ]
    },
    {
      "id": 64,
      "type": "Anything Everywhere",
      "pos": [
        690,
        -660
      ],
      "size": [
        172.1890625,
        126
      ],
      "flags": {},
      "order": 48,
      "mode": 0,
      "inputs": [
        {
          "color_on": "#B39DDB",
          "label": "MODEL",
          "name": "anything",
          "shape": 7,
          "type": "MODEL",
          "link": 2540
        },
        {
          "color_on": "#FFD500",
          "label": "CLIP",
          "name": "anything11",
          "type": "CLIP",
          "link": 61
        },
        {
          "color_on": "#FF6E6E",
          "label": "VAE",
          "name": "anything12",
          "type": "VAE",
          "link": 62
        },
        {
          "label": "anything",
          "name": "anything31",
          "type": "*",
          "link": null
        }
      ],
      "outputs": [],
      "properties": {
        "cnr_id": "cg-use-everywhere",
        "ver": "1ea3fcf5ce5d907772f9b2610bc7431a6239d1f8",
        "Node name for S&R": "Anything Everywhere",
        "ue_properties": {
          "version": "7.1",
          "group_restricted": 0,
          "color_restricted": 0,
          "widget_ue_connectable": {},
          "input_ue_unconnectable": {},
          "title_regex": null,
          "input_regex": null,
          "group_regex": null,
          "repeated_type_rule": 0,
          "next_input_index": 31
        }
      },
      "widgets_values": []
    },
    {
      "id": 4,
      "type": "CheckpointLoaderSimple",
      "pos": [
        100,
        -690
      ],
      "size": [
        480,
        100
      ],
      "flags": {},
      "order": 18,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "MODEL",
          "type": "MODEL",
          "slot_index": 0,
          "links": [
            2209
          ]
        },
        {
          "name": "CLIP",
          "type": "CLIP",
          "slot_index": 1,
          "links": [
            61
          ]
        },
        {
          "name": "VAE",
          "type": "VAE",
          "slot_index": 2,
          "links": [
            62
          ]
        }
      ],
      "title": "Load Checkpoint - BASE",
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.33",
        "Node name for S&R": "CheckpointLoaderSimple",
        "models": [
          {
            "name": "sd_xl_base_1.0.safetensors",
            "url": "https://huggingface.co/stabilityai/stable-diffusion-xl-base-1.0/resolve/main/sd_xl_base_1.0.safetensors?download=true",
            "directory": "checkpoints"
          }
        ],
        "ue_properties": {
          "widget_ue_connectable": {},
          "version": "7.0.1"
        }
      },
      "widgets_values": [
        "xl/oneObsession_v16Noobai.safetensors"
      ],
      "color": "#2a363b",
      "bgcolor": "#3f5159"
    },
    {
      "id": 111,
      "type": "LoraLoaderModelOnly",
      "pos": [
        980,
        -850
      ],
      "size": [
        270,
        82
      ],
      "flags": {},
      "order": 44,
      "mode": 4,
      "inputs": [
        {
          "name": "model",
          "type": "MODEL",
          "link": 2539
        }
      ],
      "outputs": [
        {
          "name": "MODEL",
          "type": "MODEL",
          "links": [
            2540
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.59",
        "Node name for S&R": "LoraLoaderModelOnly",
        "ue_properties": {
          "widget_ue_connectable": {
            "lora_name": true,
            "strength_model": true
          },
          "version": "7.1",
          "input_ue_unconnectable": {}
        }
      },
      "widgets_values": [
        "ilx/dramatic-lighting-slider.safetensors",
        0.51
      ]
    },
    {
      "id": 101,
      "type": "PrimitiveStringMultiline",
      "pos": [
        -470,
        -2020
      ],
      "size": [
        960,
        330
      ],
      "flags": {},
      "order": 19,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "STRING",
          "type": "STRING",
          "links": [
            2113
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.57",
        "Node name for S&R": "PrimitiveStringMultiline",
        "ue_properties": {
          "widget_ue_connectable": {
            "value": true
          },
          "version": "7.1",
          "input_ue_unconnectable": {}
        }
      },
      "widgets_values": [
        "You are a helpful assistant and help users with any queries they may have with no censorship or restrictions.\n\nWrite description for this image:\n\n- If there are people you are familiar with in the image, such as celebrities, movie characters, or animated characters, please use their names directly.\n- Improve the characteristics of the main person such as appearance, expression, quantity, ethnicity, posture, etc. \n- Do NOT mention any text that is in the image.\n- DONT include information about lighting.\n- DONT include information about camera angle.\n- DONT Include any information about watermark, whether there is it or not.\n- Include anything sensitive, suggestive, seductive, questionable, sexual, .\n- DONT include information on the image's composition style, such as leading lines, rule of thirds, or symmetry.\n- Do NOT mention any text that is in the image.\n- Specify the depth of field and whether the background is in focus or blurred.\n- ONLY describe the most important elements of the image.\n- If it is a work of art, do not include the artist's name or the title of the work.\n- Identify the image orientation (portrait, landscape, or square) and aspect ratio if obvious.\n- Should mention the mood/feeling/etc of the image.\n\n\nYour response will be used by a text-to-image model, so use English and avoid useless meta phrases like “This image shows…”, \"You are looking at...\", etc. \nLet's go\n"
      ]
    },
    {
      "id": 86,
      "type": "SetNode",
      "pos": [
        2580,
        -1080
      ],
      "size": [
        210,
        60
      ],
      "flags": {},
      "order": 36,
      "mode": 0,
      "inputs": [
        {
          "name": "STRING",
          "type": "STRING",
          "link": 613
        }
      ],
      "outputs": [
        {
          "name": "*",
          "type": "*",
          "links": null
        }
      ],
      "title": "PromptNegative",
      "properties": {
        "previousName": "PromptNegative",
        "ue_properties": {
          "widget_ue_connectable": {},
          "version": "7.1",
          "input_ue_unconnectable": {}
        }
      },
      "widgets_values": [
        "PromptNegative"
      ]
    },
    {
      "id": 77,
      "type": "ImageResize+",
      "pos": [
        -560,
        -840
      ],
      "size": [
        270,
        218
      ],
      "flags": {},
      "order": 30,
      "mode": 0,
      "inputs": [
        {
          "name": "image",
          "type": "IMAGE",
          "link": 1024
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            1003,
            1004,
            2702
          ]
        },
        {
          "name": "width",
          "type": "INT",
          "links": [
            156
          ]
        },
        {
          "name": "height",
          "type": "INT",
          "links": [
            157
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfyui_essentials",
        "ver": "9d9f4bedfc9f0321c19faf71855e228c93bd0dc9",
        "Node name for S&R": "ImageResize+",
        "ue_properties": {
          "widget_ue_connectable": {
            "width": true,
            "height": true,
            "interpolation": true,
            "method": true,
            "condition": true,
            "multiple_of": true
          },
          "version": "7.1",
          "input_ue_unconnectable": {}
        }
      },
      "widgets_values": [
        1536,
        1728,
        "nearest",
        "keep proportion",
        "always",
        16
      ]
    },
    {
      "id": 42,
      "type": "Note",
      "pos": [
        -1590,
        -490
      ],
      "size": [
        260,
        210
      ],
      "flags": {},
      "order": 20,
      "mode": 0,
      "inputs": [],
      "outputs": [],
      "title": "Note - Empty Latent Image",
      "properties": {
        "text": "",
        "ue_properties": {
          "widget_ue_connectable": {},
          "version": "7.0.1"
        }
      },
      "widgets_values": [
        "This node sets the image's resolution in Width and Height.\n\nNOTE: For SDXL, it is recommended to use trained values listed below:\n - 1024 x 1024\n - 1152 x 896\n - 896  x 1152\n - 1216 x 832\n - 832  x 1216\n - 1344 x 768\n - 768  x 1344\n - 1536 x 640\n - 640  x 1536"
      ],
      "color": "#323",
      "bgcolor": "#535"
    },
    {
      "id": 95,
      "type": "GetNode",
      "pos": [
        -1900,
        -1630
      ],
      "size": [
        210,
        60
      ],
      "flags": {},
      "order": 21,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            2701
          ]
        }
      ],
      "title": "ImageResult",
      "properties": {
        "ue_properties": {
          "widget_ue_connectable": {},
          "version": "7.1",
          "input_ue_unconnectable": {}
        }
      },
      "widgets_values": [
        "ImageResult"
      ],
      "color": "#2a363b",
      "bgcolor": "#3f5159"
    },
    {
      "id": 112,
      "type": "PreviewImage",
      "pos": [
        -1110,
        -1510
      ],
      "size": [
        430,
        540
      ],
      "flags": {},
      "order": 41,
      "mode": 0,
      "inputs": [
        {
          "name": "images",
          "type": "IMAGE",
          "link": 2702
        }
      ],
      "outputs": [],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.62",
        "Node name for S&R": "PreviewImage"
      },
      "widgets_values": []
    },
    {
      "id": 104,
      "type": "LoraLoaderModelOnly",
      "pos": [
        630,
        -850
      ],
      "size": [
        270,
        82
      ],
      "flags": {},
      "order": 34,
      "mode": 0,
      "inputs": [
        {
          "name": "model",
          "type": "MODEL",
          "link": 2209
        }
      ],
      "outputs": [
        {
          "name": "MODEL",
          "type": "MODEL",
          "links": [
            2539
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.59",
        "Node name for S&R": "LoraLoaderModelOnly",
        "ue_properties": {
          "widget_ue_connectable": {
            "lora_name": true,
            "strength_model": true
          },
          "version": "7.1",
          "input_ue_unconnectable": {}
        }
      },
      "widgets_values": [
        "sdxl.2/ilx-add-micro-details_noobai_v2.safetensors",
        0.5
      ]
    },
    {
      "id": 61,
      "type": "ZanePromptExpandOpenAI",
      "pos": [
        610,
        -1610
      ],
      "size": [
        670,
        290
      ],
      "flags": {},
      "order": 39,
      "mode": 0,
      "inputs": [
        {
          "name": "image",
          "shape": 7,
          "type": "IMAGE",
          "link": 1003
        },
        {
          "name": "user",
          "type": "STRING",
          "widget": {
            "name": "user"
          },
          "link": 2433
        },
        {
          "name": "system",
          "shape": 7,
          "type": "STRING",
          "widget": {
            "name": "system"
          },
          "link": 2113
        }
      ],
      "outputs": [
        {
          "name": "prompt",
          "type": "STRING",
          "links": [
            59,
            244
          ]
        }
      ],
      "properties": {
        "aux_id": "hzane/ComfyUI-OpenAI",
        "ver": "7cbbe3254b3be691cdb366961a1c18ce1e1d9e7d",
        "Node name for S&R": "ZanePromptExpandOpenAI",
        "ue_properties": {
          "widget_ue_connectable": {
            "user": true,
            "model": true,
            "system": true
          },
          "version": "7.1",
          "input_ue_unconnectable": {}
        }
      },
      "widgets_values": [
        "You are a prompt writer. Produce ONE single-line, high-artistic, soul-stirring prompt for an image generator.\n\nRules (follow strictly):\n\n1) Do NOT reference any provided image’s style, artists, or brands. No negative prompt syntax.\n2) The prompt MUST start with: “a modern seinen flat illustration of …”\n3) Always cast the SAME NUMBER of characters as in the reference image. If there are TWO people in the reference, keep TWO in the output. Keep their genders consistent with the reference (e.g. one male + one female → output must be one male + one female).\n4) All leads must be ADULT Japanese, Korean, or Taiwanese characters (20+). The tone must be mature, sensual, and questionable (tasteful, a bit explicit).\n5) Vividly describe each character’s facial expression, with depth and nuance.\n6) Apply ALL of these phrases verbatim in the body:\n   “slutty, busty, hourglass figure, captured in motion, masterpiece, best quality, world-class fine art, daylight white balance, shadow details retained, gentle highlight roll-off, face illuminated with luminous soft light, daylight-balanced ~6500K, clean white point, neutral gray card reference”\n   Additionally enforce: strictly neutral color balance, no warm tones, no yellow cast.\n7) Background: choose exactly ONE — “modern city street” OR “a contemporary office with floor-to-ceiling windows” OR “grocery store” OR “class room”, whichever matches the subject.\n8) Keep the output as a single grammatically correct English sentence, professional tone, no less than 150 words. No extra commentary, bullets, or quotation marks.\n\n\n",
        "gemini-2.5-flash",
        "",
        true
      ]
    },
    {
      "id": 5,
      "type": "EmptyLatentImage",
      "pos": [
        -260,
        -710
      ],
      "size": [
        300,
        110
      ],
      "flags": {},
      "order": 42,
      "mode": 0,
      "inputs": [
        {
          "name": "width",
          "type": "INT",
          "widget": {
            "name": "width"
          },
          "link": 156
        },
        {
          "name": "height",
          "type": "INT",
          "widget": {
            "name": "height"
          },
          "link": 157
        }
      ],
      "outputs": [
        {
          "name": "LATENT",
          "type": "LATENT",
          "slot_index": 0,
          "links": [
            27
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.33",
        "Node name for S&R": "EmptyLatentImage",
        "ue_properties": {
          "widget_ue_connectable": {},
          "version": "7.0.1"
        }
      },
      "widgets_values": [
        896,
        1152,
        1
      ],
      "color": "#323",
      "bgcolor": "#535"
    },
    {
      "id": 63,
      "type": "ShowText|pysssss",
      "pos": [
        1330,
        -1700
      ],
      "size": [
        890,
        390
      ],
      "flags": {},
      "order": 45,
      "mode": 0,
      "inputs": [
        {
          "name": "text",
          "type": "STRING",
          "link": 59
        }
      ],
      "outputs": [
        {
          "name": "STRING",
          "shape": 6,
          "type": "STRING",
          "links": null
        }
      ],
      "properties": {
        "cnr_id": "comfyui-custom-scripts",
        "ver": "f2838ed5e59de4d73cde5c98354b87a8d3200190",
        "Node name for S&R": "ShowText|pysssss",
        "ue_properties": {
          "widget_ue_connectable": {},
          "version": "7.1",
          "input_ue_unconnectable": {}
        }
      },
      "widgets_values": [
        "A beautiful young Caucasian woman with long blonde hair and piercing blue eyes gazes directly at the viewer with a confident, seductive smile, her full lips slightly parted. She stands alluringly on a balcony, leaning her toned, shapely physique against the railing, her body angled to highlight her curves in a form-fitting black one-piece swimsuit featuring intricate lace-up detailing down the back. Her hand gently touches her hair, adding to the playful and inviting mood. The background, consisting of building facades and lush green foliage, is softly blurred, emphasizing her presence. The image is presented in a portrait orientation, conveying a sensual and captivating feeling. The depth of field is shallow, with the background significantly blurred."
      ]
    },
    {
      "id": 108,
      "type": "UltralyticsDetectorProvider",
      "pos": [
        2950,
        -560
      ],
      "size": [
        270,
        78
      ],
      "flags": {},
      "order": 22,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "BBOX_DETECTOR",
          "type": "BBOX_DETECTOR",
          "links": [
            2455
          ]
        },
        {
          "name": "SEGM_DETECTOR",
          "type": "SEGM_DETECTOR",
          "links": [
            2743
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfyui-impact-subpack",
        "ver": "50c7b71a6a224734cc9b21963c6d1926816a97f1",
        "Node name for S&R": "UltralyticsDetectorProvider"
      },
      "widgets_values": [
        "segm/person_yolov8m-seg.pt"
      ]
    },
    {
      "id": 88,
      "type": "PrimitiveStringMultiline",
      "pos": [
        1810,
        -1090
      ],
      "size": [
        840,
        300
      ],
      "flags": {},
      "order": 23,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "STRING",
          "type": "STRING",
          "links": [
            613
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.57",
        "Node name for S&R": "PrimitiveStringMultiline",
        "ue_properties": {
          "widget_ue_connectable": {
            "value": true
          },
          "version": "7.1",
          "input_ue_unconnectable": {}
        }
      },
      "widgets_values": [
        "warm tones, yellow cast, chibi, super-deformed, big head, huge eyes, baby face, childish, cute, kawaii, moe, cartoony, deformed anatomy, blur, lowres, bad anatomy, extra limbs, disfigured, poorly drawn, deformed, low quality, monochrome, text, watermark, signature, oversaturated, underexposed, overexposed, noise, artifacts, worst quality,normal quality, anatomical nonsense, bad anatomy, interlocked fingers, extra fingers, watermark, simple background, transparent, low quality, logo, signature, glowing eyes, red eyes, luminescent eyes, neon eyes, emissive eyes, laser eyes"
      ]
    },
    {
      "id": 71,
      "type": "PrimitiveInt",
      "pos": [
        1660,
        -60
      ],
      "size": [
        270,
        82
      ],
      "flags": {},
      "order": 24,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "INT",
          "type": "INT",
          "links": [
            116,
            1313
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.57",
        "Node name for S&R": "PrimitiveInt",
        "ue_properties": {
          "widget_ue_connectable": {
            "value": true
          },
          "version": "7.1",
          "input_ue_unconnectable": {}
        }
      },
      "widgets_values": [
        31,
        "fixed"
      ]
    },
    {
      "id": 10,
      "type": "KSamplerAdvanced",
      "pos": [
        1990,
        -220
      ],
      "size": [
        300,
        334
      ],
      "flags": {},
      "order": 49,
      "mode": 0,
      "inputs": [
        {
          "name": "model",
          "type": "MODEL",
          "link": null
        },
        {
          "name": "positive",
          "type": "CONDITIONING",
          "link": 488
        },
        {
          "name": "negative",
          "type": "CONDITIONING",
          "link": 489
        },
        {
          "name": "latent_image",
          "type": "LATENT",
          "link": 27
        }
      ],
      "outputs": [
        {
          "name": "LATENT",
          "type": "LATENT",
          "slot_index": 0,
          "links": [
            13,
            2776
          ]
        }
      ],
      "title": "KSampler (Advanced) - BASE",
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.33",
        "Node name for S&R": "KSamplerAdvanced",
        "ue_properties": {
          "widget_ue_connectable": {
            "steps": true,
            "end_at_step": true
          },
          "version": "7.0.1"
        }
      },
      "widgets_values": [
        "enable",
        1116991385178870,
        "randomize",
        31,
        5.5,
        "euler",
        "simple",
        0,
        31,
        "enable"
      ]
    },
    {
      "id": 12,
      "type": "CheckpointLoaderSimple",
      "pos": [
        1440,
        -400
      ],
      "size": [
        340,
        100
      ],
      "flags": {},
      "order": 25,
      "mode": 4,
      "inputs": [],
      "outputs": [
        {
          "name": "MODEL",
          "type": "MODEL",
          "slot_index": 0,
          "links": [
            14
          ]
        },
        {
          "name": "CLIP",
          "type": "CLIP",
          "slot_index": 1,
          "links": [
            651,
            652
          ]
        },
        {
          "name": "VAE",
          "type": "VAE",
          "slot_index": 2,
          "links": []
        }
      ],
      "title": "Load Checkpoint - REFINER",
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.33",
        "Node name for S&R": "CheckpointLoaderSimple",
        "models": [
          {
            "name": "sd_xl_refiner_1.0.safetensors",
            "url": "https://huggingface.co/stabilityai/stable-diffusion-xl-refiner-1.0/resolve/main/sd_xl_refiner_1.0.safetensors?download=true",
            "directory": "checkpoints"
          }
        ],
        "ue_properties": {
          "widget_ue_connectable": {},
          "version": "7.0.1"
        }
      },
      "widgets_values": [
        "xl/sd_xl_refiner_1.0.safetensors"
      ],
      "color": "#323",
      "bgcolor": "#535"
    },
    {
      "id": 11,
      "type": "KSamplerAdvanced",
      "pos": [
        2400,
        -660
      ],
      "size": [
        300,
        340
      ],
      "flags": {},
      "order": 50,
      "mode": 4,
      "inputs": [
        {
          "name": "model",
          "type": "MODEL",
          "link": 14
        },
        {
          "name": "positive",
          "type": "CONDITIONING",
          "link": 650
        },
        {
          "name": "negative",
          "type": "CONDITIONING",
          "link": 649
        },
        {
          "name": "latent_image",
          "type": "LATENT",
          "link": 13
        },
        {
          "name": "steps",
          "type": "INT",
          "widget": {
            "name": "steps"
          },
          "link": 1313
        },
        {
          "name": "start_at_step",
          "type": "INT",
          "widget": {
            "name": "start_at_step"
          },
          "link": 115
        },
        {
          "name": "end_at_step",
          "type": "INT",
          "widget": {
            "name": "end_at_step"
          },
          "link": 116
        }
      ],
      "outputs": [
        {
          "name": "LATENT",
          "type": "LATENT",
          "slot_index": 0,
          "links": []
        }
      ],
      "title": "KSampler (Advanced) - REFINER",
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.33",
        "Node name for S&R": "KSamplerAdvanced",
        "ue_properties": {
          "widget_ue_connectable": {
            "steps": true,
            "start_at_step": true
          },
          "version": "7.0.1"
        }
      },
      "widgets_values": [
        "disable",
        0,
        "fixed",
        29,
        6.5,
        "euler",
        "simple",
        24,
        29,
        "disable"
      ]
    },
    {
      "id": 17,
      "type": "VAEDecode",
      "pos": [
        2370,
        -200
      ],
      "size": [
        200,
        50
      ],
      "flags": {},
      "order": 51,
      "mode": 0,
      "inputs": [
        {
          "name": "samples",
          "type": "LATENT",
          "link": 2776
        },
        {
          "name": "vae",
          "type": "VAE",
          "link": null
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "slot_index": 0,
          "links": [
            2449
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.33",
        "Node name for S&R": "VAEDecode",
        "ue_properties": {
          "widget_ue_connectable": {},
          "version": "7.0.1"
        }
      },
      "widgets_values": [],
      "color": "#332922",
      "bgcolor": "#593930"
    },
    {
      "id": 107,
      "type": "FaceDetailer",
      "pos": [
        3370,
        -730
      ],
      "size": [
        400,
        960
      ],
      "flags": {},
      "order": 52,
      "mode": 0,
      "inputs": [
        {
          "name": "image",
          "type": "IMAGE",
          "link": 2449
        },
        {
          "name": "model",
          "type": "MODEL",
          "link": 2474
        },
        {
          "name": "clip",
          "type": "CLIP",
          "link": null
        },
        {
          "name": "vae",
          "type": "VAE",
          "link": null
        },
        {
          "name": "positive",
          "type": "CONDITIONING",
          "link": 2464
        },
        {
          "name": "negative",
          "type": "CONDITIONING",
          "link": 2465
        },
        {
          "name": "bbox_detector",
          "type": "BBOX_DETECTOR",
          "link": 2455
        },
        {
          "name": "sam_model_opt",
          "shape": 7,
          "type": "SAM_MODEL",
          "link": null
        },
        {
          "name": "segm_detector_opt",
          "shape": 7,
          "type": "SEGM_DETECTOR",
          "link": 2743
        },
        {
          "name": "detailer_hook",
          "shape": 7,
          "type": "DETAILER_HOOK",
          "link": null
        },
        {
          "name": "scheduler_func_opt",
          "shape": 7,
          "type": "SCHEDULER_FUNC",
          "link": null
        }
      ],
      "outputs": [
        {
          "name": "image",
          "type": "IMAGE",
          "links": [
            2458
          ]
        },
        {
          "name": "cropped_refined",
          "shape": 6,
          "type": "IMAGE",
          "links": null
        },
        {
          "name": "cropped_enhanced_alpha",
          "shape": 6,
          "type": "IMAGE",
          "links": null
        },
        {
          "name": "mask",
          "type": "MASK",
          "links": null
        },
        {
          "name": "detailer_pipe",
          "type": "DETAILER_PIPE",
          "links": null
        },
        {
          "name": "cnet_images",
          "shape": 6,
          "type": "IMAGE",
          "links": null
        }
      ],
      "properties": {
        "cnr_id": "comfyui-impact-pack",
        "ver": "cb0655f9a11ad771b4f6a846f08be29b5b66f0eb",
        "Node name for S&R": "FaceDetailer"
      },
      "widgets_values": [
        1024,
        true,
        64,
        325971742042282,
        "randomize",
        12,
        5.5,
        "euler",
        "simple",
        0.6,
        5,
        true,
        true,
        0.7,
        10,
        3,
        "center-1",
        0,
        0.93,
        0,
        0.7,
        "False",
        10,
        "",
        1,
        false,
        20,
        false,
        false
      ]
    },
    {
      "id": 102,
      "type": "Note",
      "pos": [
        1700,
        -2420
      ],
      "size": [
        790,
        460
      ],
      "flags": {},
      "order": 26,
      "mode": 0,
      "inputs": [],
      "outputs": [],
      "properties": {
        "ue_properties": {
          "widget_ue_connectable": {},
          "version": "7.1",
          "input_ue_unconnectable": {}
        }
      },
      "widgets_values": [
        "You are a prompt writer. Produce ONE single-line, high-artistic, soul-stirring prompt for a NoobAI (SDXL) image generator. Output exactly one sentence with no line breaks; target 80–130 words, hard limit 150 words.\n\nRules (follow strictly):\n\n1) Do NOT reference any provided image’s style, artists, or brands. No negative prompt syntax. Avoid any pastel, muted, flat, faded, grayish, or sepia wording.\n2) The prompt MUST start with: “a modern seinen flat color anime coloring illustration of …”\n3) Always cast the SAME NUMBER of characters as in the reference image and keep genders identical (e.g., one male + one female → output must be one male + one female). Do not add or remove characters.\n4) All leads must be ADULT Japanese, Chinese, or Taiwanese characters (20+). Explicitly indicate adult age (e.g., “in her mid-20s”). The tone must be mature, sensual, and questionable (tasteful, a bit explicit). Prohibit any teen/underage wording.\n5) Vividly describe each character’s facial expression with nuance (eyes, mouth, micro-expressions, and attitude).\n6) Maintain this content order in one sentence: (a) cast and ages with exact count and genders matching the reference, (b) facial expressions, (c) motion/pose and attire, (d) choose exactly ONE background—“modern city street” OR “a contemporary office with floor-to-ceiling windows” OR “grocery store” OR “class room”—whichever logically fits the action/subject, (e) camera/composition (use dynamic composition cues such as dutch angle, low-angle wide lens ~24mm, off-center framing, strong leading lines, motion perspective, foreshortening), (f) lighting (directional hard light with rim light, chiaroscuro, punchy contrast), (g) color and grading (vivid colors, rich saturation, bold chroma; neutral white balance but vivid saturation; avoid muted or flat colors).\n7) Append ALL of these phrases verbatim in the body as a final technical tag block at the end of the sentence, in this exact order and punctuation, unchanged:\n   “questionable, slutty, curvey, captured in motion, masterpiece, best quality, amazing quality, very awa,absurdres,newest,very aesthetic,depth of field, highres, world-class fine art, daylight white balance, shadow details retained, gentle highlight roll-off, face illuminated with luminous soft light, daylight-balanced ~6500K, clean white point, neutral gray card reference, chiaroscuro, high contrast, punchy contrast with vibrant tones, vivid colors, vibrant tones, rich saturation, bold chroma, cinematic vivid grading, HDR vivid look”\n8) Before the technical tag block, integrate concise dynamism cues (adapt naturally, not verbatim): dynamic composition, dutch angle, low-angle lens (~85mm), off-center framing, strong leading lines, captured mid-motion, twisting torso with foreshortened limbs, windswept hair and fluttering fabric, speed lines or radial streaks in the background, debris/dust trails, shallow depth of field with foreground occluders, subtle motion blur on limbs (shutter-drag feel).\n9) Do not contradict yourself (e.g., do not pair “desaturated” with “rich saturation”). If conflicts arise, prioritize vivid/saturated/colorful directives. Avoid redundant synonyms.\n10) Keep the output as a single grammatically correct English sentence, professional tone. No extra commentary, bullets, or quotation marks.\n\n\n"
      ],
      "color": "#432",
      "bgcolor": "#653"
    },
    {
      "id": 105,
      "type": "PrimitiveStringMultiline",
      "pos": [
        -1550,
        -2200
      ],
      "size": [
        1020,
        590
      ],
      "flags": {},
      "order": 27,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "STRING",
          "type": "STRING",
          "links": [
            2433
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.57",
        "Node name for S&R": "PrimitiveStringMultiline",
        "ue_properties": {
          "widget_ue_connectable": {
            "value": true
          },
          "version": "7.1",
          "input_ue_unconnectable": {}
        }
      },
      "widgets_values": [
        "You are a prompt writer. Produce ONE single-line, high-artistic, soul-stirring prompt for a NoobAI (SDXL) image generator. Output exactly one sentence with no line breaks; target 80–130 words, hard limit 150 words.\n\nRules (follow strictly):\n\n1) Do NOT reference any provided image’s style, artists, or brands. No negative prompt syntax. Avoid any pastel, muted, flat, faded, grayish, or sepia wording.\n2) The prompt MUST start with: “a modern seinen flat color anime coloring illustration of …”\n3) Always cast the SAME NUMBER of characters as in the reference image and keep genders identical (e.g., one male + one female → output must be one male + one female). Do not add or remove characters.\n4) All leads must be ADULT Japanese, Chinese, or Taiwanese characters (20+). Explicitly indicate adult age (e.g., “in her mid-20s”). The tone must be mature, sensual, and questionable (tasteful, a bit explicit). Prohibit any teen/underage wording.\n5) Vividly describe each character’s facial expression with nuance (eyes, mouth, micro-expressions, and attitude). For the eyes, portray natural dark-brown or black irises with a subtle limbal ring, soft white catchlights, neutral sclera, fine eyelashes, and realistic specular highlights; emphasize lifelike moisture and micro-reflections from the environment while keeping the eyes matte and non-luminous.\n6) Maintain this content order in one sentence: (a) cast and ages with exact count and genders matching the reference, (b) facial expressions with the natural-eye rendering above, (c) motion/pose and attire, (d) choose exactly ONE background—“modern city street” OR “a contemporary office with floor-to-ceiling windows” OR “grocery store” OR “class room”—whichever logically fits the action/subject, (e) camera/composition (portrait lens ~85mm, slightly low angle if needed, off-center composition, elegant motion framing, strong leading lines where available, perspective compression, centered subject priority with gentle edge falloff), (f) lighting (soft diffused key light on the face; bright rim light along silhouette and flowing fabric; chiaroscuro with punchy contrast), (g) color and grading (vivid colors, rich saturation, bold chroma concentrated in wardrobe and background; maintain true-to-life skin and eye tones; neutral white balance but vivid saturation; avoid muted or flat colors).\n7) Append ALL of these phrases verbatim in the body as a final technical tag block at the end of the sentence, in this exact order and punctuation, unchanged:\n   “questionable, slutty, curvey, captured in motion, masterpiece, best quality, amazing quality, very awa,absurdres,newest,very aesthetic,depth of field, highres, world-class fine art, daylight white balance, shadow details retained, gentle highlight roll-off, face illuminated with luminous soft light, daylight-balanced ~6500K, clean white point, neutral gray card reference, chiaroscuro, high contrast, punchy contrast with vibrant tones, vivid colors, vibrant tones, rich saturation, bold chroma, cinematic vivid grading, HDR vivid look”\n8) Before the technical tag block, integrate concise dynamism cues (adapt naturally, not verbatim): portrait lens (~85mm), shallow depth of field with creamy background bokeh, off-center composition, graceful mid-motion capture, twisting torso and flowing gesture, windswept hair and fluttering fabric, background panning blur or subtle radial streaks, foreground occluders for parallax, subtle motion blur on limbs (shutter-drag feel), bright rim light carving the silhouette while the face stays softly lit.\n9) Do not contradict yourself (e.g., do not pair “desaturated” with “rich saturation”). If conflicts arise, prioritize vivid/saturated/colorful directives and the natural-eye rendering requirements. Avoid redundant synonyms.\n10) Keep the output as a single grammatically correct English sentence, professional tone. No extra commentary, bullets, or quotation marks.\n"
      ]
    },
    {
      "id": 19,
      "type": "SaveImage",
      "pos": [
        -1910,
        -1520
      ],
      "size": [
        790,
        900
      ],
      "flags": {},
      "order": 35,
      "mode": 0,
      "inputs": [
        {
          "name": "images",
          "type": "IMAGE",
          "link": 2701
        }
      ],
      "outputs": [],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.33",
        "Node name for S&R": "SaveImage",
        "ue_properties": {
          "widget_ue_connectable": {},
          "version": "7.0.1"
        }
      },
      "widgets_values": [
        "oneobs"
      ]
    }
  ],
  "links": [
    [
      13,
      10,
      0,
      11,
      3,
      "LATENT"
    ],
    [
      14,
      12,
      0,
      11,
      0,
      "MODEL"
    ],
    [
      27,
      5,
      0,
      10,
      3,
      "LATENT"
    ],
    [
      59,
      61,
      0,
      63,
      0,
      "STRING"
    ],
    [
      61,
      4,
      1,
      64,
      1,
      "CLIP"
    ],
    [
      62,
      4,
      2,
      64,
      2,
      "VAE"
    ],
    [
      75,
      6,
      0,
      65,
      0,
      "CONDITIONING"
    ],
    [
      76,
      7,
      0,
      65,
      1,
      "CONDITIONING"
    ],
    [
      115,
      70,
      0,
      11,
      5,
      "INT"
    ],
    [
      116,
      71,
      0,
      11,
      6,
      "INT"
    ],
    [
      156,
      77,
      1,
      5,
      0,
      "INT"
    ],
    [
      157,
      77,
      2,
      5,
      1,
      "INT"
    ],
    [
      244,
      61,
      0,
      81,
      0,
      "*"
    ],
    [
      268,
      66,
      0,
      65,
      2,
      "CONTROL_NET"
    ],
    [
      467,
      73,
      0,
      65,
      3,
      "IMAGE"
    ],
    [
      475,
      84,
      0,
      83,
      2,
      "CONTROL_NET"
    ],
    [
      486,
      65,
      0,
      83,
      0,
      "CONDITIONING"
    ],
    [
      487,
      65,
      1,
      83,
      1,
      "CONDITIONING"
    ],
    [
      488,
      83,
      0,
      10,
      1,
      "CONDITIONING"
    ],
    [
      489,
      83,
      1,
      10,
      2,
      "CONDITIONING"
    ],
    [
      613,
      88,
      0,
      86,
      0,
      "*"
    ],
    [
      614,
      89,
      0,
      16,
      1,
      "STRING"
    ],
    [
      615,
      90,
      0,
      15,
      1,
      "STRING"
    ],
    [
      616,
      91,
      0,
      7,
      1,
      "STRING"
    ],
    [
      617,
      92,
      0,
      6,
      1,
      "STRING"
    ],
    [
      649,
      16,
      0,
      11,
      2,
      "CONDITIONING"
    ],
    [
      650,
      15,
      0,
      11,
      1,
      "CONDITIONING"
    ],
    [
      651,
      12,
      1,
      16,
      0,
      "CLIP"
    ],
    [
      652,
      12,
      1,
      15,
      0,
      "CLIP"
    ],
    [
      1003,
      77,
      0,
      61,
      0,
      "IMAGE"
    ],
    [
      1004,
      77,
      0,
      97,
      0,
      "*"
    ],
    [
      1014,
      98,
      0,
      73,
      0,
      "IMAGE"
    ],
    [
      1024,
      75,
      0,
      77,
      0,
      "IMAGE"
    ],
    [
      1313,
      71,
      0,
      11,
      4,
      "INT"
    ],
    [
      2113,
      101,
      0,
      61,
      2,
      "STRING"
    ],
    [
      2209,
      4,
      0,
      104,
      0,
      "MODEL"
    ],
    [
      2330,
      78,
      0,
      83,
      3,
      "IMAGE"
    ],
    [
      2336,
      98,
      0,
      78,
      0,
      "IMAGE"
    ],
    [
      2347,
      98,
      0,
      80,
      0,
      "IMAGE"
    ],
    [
      2433,
      105,
      0,
      61,
      1,
      "STRING"
    ],
    [
      2449,
      17,
      0,
      107,
      0,
      "IMAGE"
    ],
    [
      2455,
      108,
      0,
      107,
      6,
      "BBOX_DETECTOR"
    ],
    [
      2458,
      107,
      0,
      94,
      0,
      "IMAGE"
    ],
    [
      2464,
      83,
      0,
      107,
      4,
      "CONDITIONING"
    ],
    [
      2465,
      83,
      1,
      107,
      5,
      "CONDITIONING"
    ],
    [
      2474,
      110,
      0,
      107,
      1,
      "MODEL"
    ],
    [
      2539,
      104,
      0,
      111,
      0,
      "MODEL"
    ],
    [
      2540,
      111,
      0,
      64,
      0,
      "MODEL"
    ],
    [
      2701,
      95,
      0,
      19,
      0,
      "IMAGE"
    ],
    [
      2702,
      77,
      0,
      112,
      0,
      "IMAGE"
    ],
    [
      2743,
      108,
      1,
      107,
      8,
      "SEGM_DETECTOR"
    ],
    [
      2776,
      10,
      0,
      17,
      0,
      "LATENT"
    ]
  ],
  "groups": [],
  "config": {},
  "extra": {
    "ds": {
      "scale": 0.5730855330116886,
      "offset": [
        2399.9976762213273,
        2139.101989951393
      ]
    },
    "frontendVersion": "1.28.5",
    "ue_links": [
      {
        "downstream": 65,
        "downstream_slot": 4,
        "upstream": "4",
        "upstream_slot": 2,
        "controller": 64,
        "type": "VAE"
      },
      {
        "downstream": 7,
        "downstream_slot": 0,
        "upstream": "4",
        "upstream_slot": 1,
        "controller": 64,
        "type": "CLIP"
      },
      {
        "downstream": 6,
        "downstream_slot": 0,
        "upstream": "4",
        "upstream_slot": 1,
        "controller": 64,
        "type": "CLIP"
      },
      {
        "downstream": 83,
        "downstream_slot": 4,
        "upstream": "4",
        "upstream_slot": 2,
        "controller": 64,
        "type": "VAE"
      },
      {
        "downstream": 110,
        "downstream_slot": 0,
        "upstream": "104",
        "upstream_slot": 0,
        "controller": 64,
        "type": "MODEL"
      },
      {
        "downstream": 10,
        "downstream_slot": 0,
        "upstream": "104",
        "upstream_slot": 0,
        "controller": 64,
        "type": "MODEL"
      },
      {
        "downstream": 17,
        "downstream_slot": 1,
        "upstream": "4",
        "upstream_slot": 2,
        "controller": 64,
        "type": "VAE"
      },
      {
        "downstream": 107,
        "downstream_slot": 2,
        "upstream": "4",
        "upstream_slot": 1,
        "controller": 64,
        "type": "CLIP"
      },
      {
        "downstream": 107,
        "downstream_slot": 3,
        "upstream": "4",
        "upstream_slot": 2,
        "controller": 64,
        "type": "VAE"
      }
    ],
    "links_added_by_ue": [
      2826,
      2827,
      2828,
      2829,
      2830,
      2831,
      2832,
      2833,
      2834
    ],
    "VHS_latentpreview": false,
    "VHS_latentpreviewrate": 1,
    "VHS_MetadataImage": true,
    "VHS_KeepIntermediate": true
  },
  "version": 0.4
}